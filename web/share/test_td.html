<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>测试--土豆</title>
  <script type="text/javascript" src="/webframework/js/jquery-1.11.1.min.js"></script>
  <script language="javascript" type="text/javascript">
  //公用调用
  function getCode(){
   var url = "https://api.tudou.com/oauth2/authorize";//请求用户授权
   var client_id = document.getElementById("client_id").value;
   var state = document.getElementById("state").value;
   var redirect_uri = document.getElementById("redirect_uri").value;
   url = url+"?client_id="+client_id+"&redirect_uri="+redirect_uri+"&state="+state; 
   document.getElementById("url").value = url;
   window.open(url);
  }
  function getToken(){
   document.forms.TokenForm.action = "https://api.tudou.com/oauth2/access_token";
   document.forms.TokenForm.submit();
  }
  
  function addOne(){
  
  }
  </script>
 </head>
 <body>
 <form name ="TokenForm" method="post" action="" target="_blank">
  	<table>
  		<tr>
  		  <td>
  		  	appkey(client_id):
  		  	 <input type="text" id="client_id"  name="client_id" value="2f71671e008f4e17" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	redirect_uri:
  		  	 <input type="text" id="redirect_uri" value="http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_TD" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	state:
  		  	 <input type="text" id="state" value="" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	url:
  		  	 <input type="text" id="url" value="" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td >
  		  	<input type="button" onclick="getCode()" value ="获取code">
  		  </td>
  		</tr>
  		<tr>
  			<td >
  				========================================================
  			</td>
  		</tr>
		<tr>
			<td>
				client_secret:<input type="text" name="client_secret" value="a5cf2f006ccd401dd4665d21d48973a2" size="100">
			</td>
		</tr>
		<tr>
			<td>
				code:<input type="text" name="code" value="ddab8b8e283e702969223bfee0425750" size="100">
			</td>
		</tr>
		<tr>
			<td>
				redirect_uri:<input type="text" name="redirect_uri" value="http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_TD" size="100">
			</td>
		</tr>
  		<tr>
  		  <td >
  		  	<input type="button" onclick="getToken()" value ="获取Token">
  		  </td>
  		</tr>
  	</table>
  	</form>
 </body>
</html>
