<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>测试</title>
  <script type="text/javascript" src="/webframework/js/jquery-1.11.1.min.js"></script>
  <script language="javascript" type="text/javascript">
  //公用调用
  function getCode(){
   var url = "https://openapi.youku.com/v2/oauth2/authorize";//请求用户授权
   var client_id = document.getElementById("client_id").value;
   var response_type = document.getElementById("response_type").value;
   var redirect_uri = "http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_YK";
   var state = document.getElementById("state").value;
   url = url+"?client_id="+client_id+"&response_type="+response_type+"&redirect_uri="+redirect_uri+"&state="+state; 
   document.getElementById("url").value = url;
   window.open(url,"_blank");
   
   /**
   $.ajax({
   		url: url,
   		type:"get",
   		dataType:"html",
   		context:document.body,
   		data:{
   			client_id:"782f13514ee1dd5a",
   			response_type:"code",
   			redirect_uri:redirect_uri
   		},
   		success: function(data){
   			var resultDiv = document.getElementById("resultDiv");
   			resultDiv.innerHTML = data;
   		}
   });
   */
  }
  
  function getToken(){
   document.forms.TokenForm.action = "https://openapi.youku.com/v2/oauth2/token";
   document.forms.TokenForm.submit();
  }
  
  
  
  function refreshToken(){
   document.forms.TokenForm.action = "https://openapi.youku.com/v2/oauth2/token";
   document.forms.TokenForm.submit();
  }
  
  function getTokenHZ(){
   document.forms.TokenFormHZ.action = "https://openapi.youku.com/v2/oauth2/token";
   document.forms.TokenFormHZ.submit();
  }
  
  function addOne(){
  
  }
  </script>
 </head>
 <body>
  	<table>
  		<tr>
  		  <td>
  		  	client_id:
  		  </td>
  		  <td>
  		  	 <input type="text" id="client_id" value="782f13514ee1dd5a" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	response_type:
  		  </td>
  		  <td>
  		  	 <input type="text" id="response_type" value="code" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	redirect_uri:
  		  </td>
  		  <td>
  		  	 <input type="text" id="redirect_uri" value="http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_YK" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	state:
  		  </td>
  		  <td>
  		  	 <input type="text" id="state" value="xyz" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	url:
  		  </td>
  		  <td>
  		  	 <input type="text" id="url" value="" size="100">
  		  </td>
  		</tr>
  		<tr>
  		  <td>
  		  	<input type="button" onclick="getCode()" value ="获取code">
  		  </td>
  		</tr>
  		<tr>
  		  <td colspan="2">
  		  	</br>====================================================================
  		  </td>
  		</tr>
	</table>
  	<form name ="TokenForm" method="post" action=""  target="_blank">
  		<table>
  			<tr>
  				<td>
  					client_id:
  				</td>
  				<td>
  					<input type="text" name="client_id" value="782f13514ee1dd5a" size="100">
  				</td>
  			</tr>
  			<tr>
  				<td>
  					client_secret:
  				</td>
  				<td>
  					<input type="text" name="client_secret" value="a7e87a2cff6435b16bc64fd3a7411ad4" size="100">
  				</td>
  			</tr>
  			<tr>
  				<td>
  					grant_type:
  				</td>
  				<td>
  						<select name="grant_type">
  							<option value="authorization_code">authorization_code(获取token)</option>
  							<option value="refresh_token">refresh_token(刷新token)</option>
  						</select>
  				</td>
  			</tr>
  			<tr>
  				<td>
  					code:
  				</td>
  				<td>
  					<input type="text" name="code" value="请填写第一次获取code" size="100">
  				</td>
  			</tr>
  			<tr>
  				<td>
  					redirect_uri:
  				</td>
  				<td>
  					<input type="text" name="redirect_uri" value="http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_YK" size="100">
  				</td>
  			</tr>
  		
	  		<tr>
	  		  <td>
	  		  	<input type="button" onclick="getToken()" value ="获取Token">
	  		  </td>
	  		</tr>
	  		<tr>
	  		  <td colspan="2">
	  		  	</br>====================================================================
	  		  </td>
	  		</tr>
	  		
	  		<tr>
	  			<td>
  					refresh_token:
  				</td>
  				<td>
  					<input type="text" name="refresh_token" value="" size="100">
  				</td>
  			</tr>
  		
	  		<tr>
	  		  <td>
	  		  	<input type="button" onclick="refreshToken()" value ="刷新Token">
	  		  </td>
	  		</tr>
	  		<tr>
	  		  <td colspan="2">
	  		  	</br>====================================================================
	  		  </td>
	  		</tr>
 		</table>
  		</form>
  		
  		<table>
  			<tr>
  				<td>
  					redirect_uri:
  				</td>
  				<td>
  					<input type="text" name="token" value="http://myapp.com:8080/Test/ApiServlet?processID=CALLBACK_YK" size="100">
  				</td>
  			</tr>
  		</table>
 </body>
</html>
